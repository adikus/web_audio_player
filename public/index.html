<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Web Audio Test</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-slider.css" rel="stylesheet">


    <link href="css/main.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <audio></audio>
    <div class="container-fluid" ng-app="audioVisual" ng-controller="frequencyBars">
        <div class="audio-visual-controls text-center" ng-cloak ng-style="controls.containerStyle">
            <div class="btn-group" role="group" ng-style="controls.buttonGroupStyle">
                <button type="button" class="btn btn-default btn-lg" ng-click="playPrevious()">
                    <span class="glyphicon glyphicon-step-backward"></span>
                </button>
                <button type="button" class="btn btn-default btn-lg" ng-disabled="loading" ng-click="playPause()">
                    <span class="glyphicon glyphicon-play" ng-hide="playing || loading"></span>
                    <span class="glyphicon glyphicon-pause" ng-show="playing"></span>
                    <span class="loader" ng-show="loading"></span>
                </button>
                <button type="button" class="btn btn-default btn-lg" ng-click="playNext()">
                    <span class="glyphicon glyphicon-step-forward"></span>
                </button>
            </div>
            <br>
            <input id="current_time_slider" type="text" data-slider-min="0" data-slider-max="1000" data-slider-step="1"/>

            <div>
                <strong>
                    {{currentMinutes + ' : ' + currentSeconds+ ' / ' + totalMinutes + ' : ' + totalSeconds}}
                </strong>
            </div>

            <div class="inputs text-left">
                <div>
                    <input type="text" ng-model="url" name="file_url" placeholder="Audio URL">
                    <button class="btn btn-default" type="submit" ng-click="loadFromURL(url)">Play</button>
                    <button class="btn btn-default" type="submit" ng-click="addToPlaylistFromURL(url)">Add to playlist</button>
                </div>
                <div class="text-left">
                    <input type="text" ng-model="youtubeLink" name="youtube_url" placeholder="YouTube URL">
                    <button class="btn btn-default" type="submit" ng-click="loadFromYT(youtubeLink)">Play</button>
                    <button class="btn btn-default" type="submit" ng-click="addToPlaylistFromYT(youtubeLink)">Add to playlist</button>
                </div>
            </div>

            <div class="playlist text-left panel panel-default">
                <div class="panel-heading">
                    <strong>
                        <a>
                           <span class="glyphicon glyphicon-option-vertical"></span>
                        </a>
                        Playlist
                    </strong>
                    <div class="btn-group pull-right" role="group">
                        <button class="btn btn-default" type="submit" ng-click="reversePlaylist()" data-toggle="tooltip" data-placement="left" data-delay="500" title="Reverse playlist">
                            <span class="glyphicon glyphicon-sort"></span>
                        </button>
                        <button class="btn btn-default" type="submit" ng-class="{active: stopAfterCurrent}" ng-click="toggleStopAfterCurrent()" data-toggle="tooltip" data-placement="left" data-delay="500" title="Stop after current">
                            <span class="glyphicon glyphicon-ban-circle"></span>
                        </button>
                        <button class="btn btn-default" type="submit" ng-class="{active: loopPlaylist}" ng-click="toggleLoopPlaylist()" data-toggle="tooltip" data-placement="left" data-delay="500" title="Loop">
                            <span class="glyphicon glyphicon-refresh"></span>
                        </button>
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="list-group" sv-root sv-part="playlist">
                    <a ng-repeat="track in playlist" ng-click="playTrack(track)" ng-class="{active: currentTrack == track}" sv-element class="list-group-item">
                        <button class="btn btn-danger btn-xs pull-right" type="submit" ng-click="removeFromPlaylist(track, $event)">x</button>
                        <span class="loader" ng-show="track.type == 'yt' && track.loading"></span>
                        {{track.title}}
                        <br>
                        <small ng-show="track.type == 'yt'">
                            <strong>{{track.uploader}}</strong> | {{track.id}}
                        </small>
                    </a>
                </div>
            </div>
        </div>
        <canvas></canvas>
    </div>

    <script src="js/lodash.js"></script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap-slider.js"></script>

    <script src="js/angular.js"></script>
    <script src="js/angular-sortable-view.js"></script>

    <script src="js/audio.js"></script>
    <script src="js/track.js"></script>
    <script src="js/main.js"></script>
</body>
</html>